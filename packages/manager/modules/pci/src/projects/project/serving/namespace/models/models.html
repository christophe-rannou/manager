<div data-ui-view>
    <cui-message-container
        data-messages="$ctrl.messages"
    ></cui-message-container>
    <p class="mb-3">
        <span
            data-translate="pci_projects_project_serving_namespace_models_description_1"
            data-translate-values="{
                  description: $ctrl.project.description
              }"
        >
        </span>
        <span
            data-translate="pci_projects_project_serving_namespace_models_description_2"
        ></span>
    </p>
    <oui-datagrid data-rows="$ctrl.models">
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_id' | translate"
            data-property="id"
            data-type="string"
            data-searchable
            data-filterable
        >
            <a
                data-ng-href="{{:: $ctrl.modelLink($row) }}"
                data-ng-bind="$value"
            ></a>
        </oui-column>

        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_version_status' | translate"
            data-property="versionStatus"
        >
            <span
                class="oui-status"
                data-ng-class="{
                        'oui-status_success' : $row.isDeployed(),
                        'oui-status_warning' : $row.isProcessing(),
                        'oui-status_error' : $row.isInError()
                    }"
                data-translate="{{:: 'pci_projects_project_serving_namespace_models_version_status_' + $row.versionStatus }}"
            >
            </span>
        </oui-column>
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_api_status' | translate"
            data-property="apiStatus"
        >
            <span
                class="oui-status"
                data-ng-class="{
                    'oui-status_success' : $row.isRunning(),
                    'oui-status_warning' : !$row.isRunning()
                    }"
                data-translate="{{:: 'pci_projects_project_serving_namespace_models_api_status_' + $row.apiStatus }}"
            >
            </span>
        </oui-column>
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_url' | translate"
            data-property="url"
            data-type="string"
            data-searchable
            data-filterable
        >
            <a
                data-ng-href="{{$row.url}}"
                target="_blank"
                rel="noopener"
                data-ng-bind="$row.url"
            ></a>
        </oui-column>
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_date' | translate"
            data-property="createdAt"
            data-type="date"
        >
            <span data-ng-bind="$row.createdAt | date : 'short'"></span>
        </oui-column>
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_version' | translate"
            data-property="version"
            data-type="number"
            data-searchable
            data-filterable
        >
        </oui-column>
        <oui-column
            data-title=":: 'pci_projects_project_serving_namespace_models_replicas' | translate"
            data-property="replicas"
            data-type="number"
            data-searchable
            data-filterable
        >
        </oui-column>
        <oui-action-menu data-align="end" data-compact>
            <oui-action-menu-item data-on-click="$ctrl.details($row.id)">
                <span
                    data-translate="pci_projects_project_serving_namespace_models_details"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.generateToken($row.id)">
                <span
                    data-translate="pci_projects_project_serving_namespace_models_gen_token"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.updateModel($row.id)">
                <span
                    data-translate="pci_projects_project_serving_namespace_models_update"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.deleteModel($row.id)">
                <span
                    data-translate="pci_projects_project_serving_namespace_models_delete"
                ></span>
            </oui-action-menu-item>
        </oui-action-menu>
        <extra-top>
            <button
                class="oui-button oui-button_secondary"
                data-ng-click="$ctrl.addModel()"
                data-track-on="click"
                data-track-name="public-cloud::pci::projects::project::serving::namespace::infos::add-model"
                data-track-type="action"
            >
                <span
                    data-translate="pci_projects_project_serving_namespace_models_deploy_model"
                ></span>
            </button>
        </extra-top>
    </oui-datagrid>
</div>
